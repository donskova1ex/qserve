# qserve

**qserve** - —ç—Ç–æ CLI-—É—Ç–∏–ª–∏—Ç–∞ –Ω–∞ Go –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ HTTP API.

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–£—Ç–∏–ª–∏—Ç–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –ø–æ–¥–Ω–∏–º–∞–µ—Ç HTTP —Å–µ—Ä–≤–µ—Ä —Å –æ–¥–Ω–∏–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç SQL –∑–∞–ø—Ä–æ—Å—ã –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîß **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞** –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
- üóÑÔ∏è **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ 4 —Ç–∏–ø–æ–≤ –ë–î** (PostgreSQL, MySQL, SQLite, MSSQL)
- üîí **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤** —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- ‚ö° **Connection pooling** –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- üìä **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö** –∏–∑ –ë–î
- üõ°Ô∏è **–í–∞–ª–∏–¥–∞—Ü–∏—è SQL –∑–∞–ø—Ä–æ—Å–æ–≤** –Ω–∞ –æ–ø–∞—Å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö **Clean Architecture** —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞ —Å–ª–æ–∏:

- **Config Layer** - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- **Database Layer** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
- **Handler Layer** - HTTP –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
- **Service Layer** - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
- **Middleware Layer** - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, CORS (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
qserve/
‚îú‚îÄ‚îÄ cmd/qserve/main.go          # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ config/                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –º–∞—Å—Ç–µ—Ä)
‚îÇ   ‚îú‚îÄ‚îÄ database/               # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ connection.go       # –ú–µ–Ω–µ–¥–∂–µ—Ä —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ query_executor.go   # –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ SQL –∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ validator.go        # –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
‚îÇ   ‚îú‚îÄ‚îÄ handler/                # HTTP –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
‚îÇ   ‚îú‚îÄ‚îÄ service/                # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
‚îÇ   ‚îî‚îÄ‚îÄ middleware/             # Middleware (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
‚îî‚îÄ‚îÄ go.mod
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone <repository-url>
cd qserve
go mod tidy
```

### –ó–∞–ø—É—Å–∫

```bash
go run cmd/qserve/main.go
```

–£—Ç–∏–ª–∏—Ç–∞ –∑–∞–ø—É—Å—Ç–∏—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –º–∞—Å—Ç–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

```
üîß Welcome to qserve setup!
============================
Select DB type (1: PostgreSQL, 2: MySQL, 3: SQLite, 4: MSSQL): 1
Select DB host [localhost]: localhost
Select DB port: 5432
Select DB user: postgres
Select DB password: 
Select DB name: mydb
Select service port [8080]: 8080
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è SQL –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –æ–ø–∞—Å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (DROP, TRUNCATE, ALTER, CREATE, GRANT, REVOKE)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª—ã—Ö —Å–ª–æ–≤ (–Ω–µ –ø–æ–¥—Å—Ç—Ä–æ–∫) - "DROPPED" –Ω–µ –±—É–¥–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ø–µ—Ä–µ–¥ –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- ‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä SQL Server (sp_, xp_, fn_)
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –∑–∞–ø—Ä–æ—Å–∞ (SELECT, INSERT, UPDATE, DELETE)

## üéØ –¶–µ–ª–µ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è:
- –ë—ã—Å—Ç—Ä–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ API
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –ë–î —á–µ—Ä–µ–∑ HTTP
- –ü—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –°–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ—Å—Ç—ã—Ö SQL API –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

## üöß –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

- [ ] HTTP API —Å —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–º `/query`
- [ ] Middleware –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ CORS
- [ ] Graceful shutdown
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- [ ] Rate limiting
- [ ] OpenTelemetry –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Go 1.24+** - –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫
- **database/sql** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
- **net/http** - HTTP —Å–µ—Ä–≤–µ—Ä (–Ω–æ–≤—ã–π ServeMux Go 1.22+)
- **PostgreSQL** - –¥—Ä–∞–π–≤–µ—Ä `github.com/lib/pq`
- **MySQL** - –¥—Ä–∞–π–≤–µ—Ä `github.com/go-sql-driver/mysql`
- **SQLite** - –¥—Ä–∞–π–≤–µ—Ä `github.com/mattn/go-sqlite3`
- **MSSQL** - –¥—Ä–∞–π–≤–µ—Ä `github.com/microsoft/go-mssqldb`

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è –ª—é–±—ã–µ –≤–∫–ª–∞–¥—ã! –°–æ–∑–¥–∞–≤–∞–π—Ç–µ issues –∏ pull requests.

---
